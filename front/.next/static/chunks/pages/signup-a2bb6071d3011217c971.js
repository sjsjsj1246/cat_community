(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[616],{4901:function(e,n,t){"use strict";t.d(n,{Z:function(){return ae}});var r=t(5893),a=t(6156),o=t(7757),s=t.n(o),i=t(2137),c=t(2465),l=t(7294),u=t(5675),d=t(1163),p=t(5596),f=t(2684),h=t(8222),g=t(1069),m=t(9163),x=t(7457),j=t(8481),v=t(1664),b=t(1349),Z=t(551),w=t(4755),y=t(9669),O=t.n(y),k=t(9971);function C(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function P(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?C(Object(t),!0).forEach((function(n){(0,a.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):C(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function S(){var e=(0,c.Z)(["\n  background-color: rgb(228, 35, 76);\n  border-color: rgb(228, 35, 76);\n  font-weight: 500;\n"]);return S=function(){return e},e}function E(){var e=(0,c.Z)(["\n  margin-top: 0.8rem;\n"]);return E=function(){return e},e}function _(){var e=(0,c.Z)(["\n  padding: 1rem;\n"]);return _=function(){return e},e}var F=(0,m.ZP)(b.Z)(_()),D=m.ZP.div(E()),z=(0,m.ZP)(h.Z)(S()),N=function(){var e=(0,w.Z)(""),n=(0,j.Z)(e,2),t=n[0],a=n[1],o=(0,w.Z)(""),c=(0,j.Z)(o,2),u=c[0],d=c[1],p=(0,l.useState)(""),f=p[0],g=(p[1],(0,l.useState)(!1)),m=g[0],b=(g[1],(0,x.a)()),y=(b.me,b.login),C=(b.logout,(0,l.useCallback)((0,i.Z)(s().mark((function e(){var n,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O().post("".concat(k.Z.cats,"/login"),{email:t,password:u},{withCredentials:!0});case 3:return n=e.sent,console.log(n.data),e.next=7,O().get("".concat(k.Z.cats),{withCredentials:!0,headers:{Authorization:"Bearer "+n.data.data.token}});case 7:r=e.sent,y(P(P({},r.data.data),{},{token:n.data.data.token})),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),e.t0.response?(console.log(e.t0.response),alert(e.t0.response.data.message)):alert(e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),[t,u]));return(0,r.jsxs)(F,{onFinish:C,children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"email",children:"Cat Email"}),(0,r.jsx)("br",{}),(0,r.jsx)(Z.Z,{name:"email",value:t,onChange:a,required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"password",children:"Cat Password"}),(0,r.jsx)("br",{}),(0,r.jsx)(Z.Z,{name:"password",type:"password",value:u,onChange:d,required:!0})]}),(0,r.jsxs)(D,{children:[(0,r.jsx)(z,{type:"primary",htmlType:"submit",loading:m,children:"Login"}),(0,r.jsx)(v.default,{href:"/signup",children:(0,r.jsx)("a",{children:(0,r.jsx)(h.Z,{children:"Sign up"})})})]}),(0,r.jsx)("div",{children:(0,r.jsx)("span",{children:f})})]})};function T(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function I(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?T(Object(t),!0).forEach((function(n){(0,a.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):T(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function q(){var e=(0,c.Z)(["\n  margin-top: 10px;\n"]);return q=function(){return e},e}function A(){var e=(0,c.Z)(["\n  background-color: rgb(228, 35, 76);\n  border-color: rgb(228, 35, 76);\n  color: rgb(0, 22, 40);\n  font-weight: 500;\n  @media only screen and (max-width: 390px) {\n    position: relative;\n    left: auto;\n    bottom: auto;\n    margin-top: 150px;\n  }\n  position: absolute;\n  left: 30%;\n  bottom: 30px;\n"]);return A=function(){return e},e}function B(){var e=(0,c.Z)(["\n  text-align: center;\n  @media only screen and (max-width: 768px) {\n    font-size: 0.7rem;\n  }\n  @media only screen and (max-width: 390px) {\n    display: none;\n  }\n"]);return B=function(){return e},e}function L(){var e=(0,c.Z)(["\n  color: white;\n  font-size: 1.3rem;\n  font-weight: 700;\n"]);return L=function(){return e},e}function U(){var e=(0,c.Z)(["\n  width: inherit;\n"]);return U=function(){return e},e}function X(){var e=(0,c.Z)(["\n  text-align: center;\n"]);return X=function(){return e},e}function H(){var e=(0,c.Z)(["\n  padding: 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: white;\n  font-size: 2.5rem;\n  @media only screen and (max-width: 768px) {\n    font-size: 2rem;\n  }\n  @media only screen and (max-width: 390px) {\n    font-size: 1.2rem;\n  }\n"]);return H=function(){return e},e}function M(){var e=(0,c.Z)(["\n  min-height: 100vh;\n"]);return M=function(){return e},e}var R=p.Z.Header,W=p.Z.Content,Y=p.Z.Footer,G=p.Z.Sider,J=f.Z.Meta,K=(0,m.ZP)(p.Z)(M()),Q=(0,m.ZP)(R)(H()),V=(0,m.ZP)(G)(X()),$=(0,m.ZP)(f.Z)(U()),ee=m.ZP.div(L()),ne=(0,m.ZP)(Y)(B()),te=(0,m.ZP)(h.Z)(A()),re=m.ZP.div(q()),ae=function(e){var n=e.children,t=e.isSignup,a=void 0!==t&&t,o=(0,l.useState)(!0),c=o[0],f=o[1],m=(0,l.useState)(!1),j=m[0],v=m[1],b=(0,x.a)(),Z=b.me,w=b.login,y=b.logout,C=(0,l.useState)(!0),P=C[0],S=C[1],E=(0,l.useState)(!1),_=E[0],F=E[1],D=(0,l.useRef)(),z=(0,l.useCallback)((0,i.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:y();case 1:case"end":return e.stop()}}),e)}))),[]);(0,l.useEffect)((function(){Z&&a&&d.default.replace("/")}),[]),(0,l.useEffect)((function(){S(!0)}),[_]);var T=(0,l.useCallback)((function(e,n){f(e)}),[c]),q=(0,l.useCallback)((function(e){v(e)}),[j]),A=(0,l.useCallback)(function(){var e=(0,i.Z)(s().mark((function e(n){var t,r,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.target.files,r=new FormData,Array.from(t).forEach((function(e){r.append("image",e)})),console.log(r.getAll("image")),e.prev=4,S(!1),e.next=8,O().post("".concat(k.Z.cats,"/upload"),r,{withCredentials:!0,headers:{Authorization:"Bearer "+Z.token}});case 8:a=e.sent,console.log(a),w(I(I({},a.data.data),{},{token:Z.token})),F((function(e){return!e})),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(4),e.t0.response?(console.log(e.t0.response),alert(e.t0.response.data.message)):alert(e.t0.message);case 17:case"end":return e.stop()}}),e,null,[[4,14]])})));return function(n){return e.apply(this,arguments)}}(),[Z,P,_]),B=(0,l.useCallback)((function(){void 0!==D.current&&D.current.click()}),[D.current]);return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(K,{children:[Z&&(0,r.jsxs)(V,{breakpoint:"lg",collapsedWidth:"0",onBreakpoint:q,onCollapse:T,children:[(0,r.jsx)($,{hoverable:!0,cover:(0,r.jsx)(g.Z,{alt:"cat",src:Z.imgUrl}),children:(0,r.jsx)(J,{title:Z.email,description:Z.name})}),(0,r.jsxs)(re,{children:[(0,r.jsx)("input",{type:"file",name:"image",multiple:!0,hidden:!0,ref:D,onChange:A}),!P&&(0,r.jsx)(ee,{children:"\uc774\ubbf8\uc9c0 \ubcc0\uacbd\uc911..."}),(0,r.jsx)(h.Z,{onClick:B,children:"Image Update"})]}),(0,r.jsx)(te,{type:"primary",size:"large",onClick:z,children:"Logout"})]}),(0,r.jsxs)(p.Z,{children:[(0,r.jsxs)(Q,{style:{display:c||!Z?"flex":!c&&j?"none":"flex"},children:[(0,r.jsx)(u.default,{width:43,height:"auto",src:"/nestjs.svg"}),(0,r.jsx)("span",{style:{marginLeft:10},children:"Cat Information Community"})]}),(0,r.jsx)(W,{style:{margin:"45px 16px 0"},children:Z||a?(0,r.jsx)(r.Fragment,{children:n}):(0,r.jsx)(N,{})}),(0,r.jsx)(ne,{children:"C.I.C \xa92021 Created by Yoon Sang Seok"})]})]})})}},4755:function(e,n,t){"use strict";var r=t(7294);n.Z=function(e){var n=(0,r.useState)(e),t=n[0],a=n[1];return[t,(0,r.useCallback)((function(e){var n=e.target.value;a(n)}),[]),a]}},3916:function(e,n,t){"use strict";t.r(n);var r=t(5893),a=t(7757),o=t.n(a),s=t(2137),i=t(8481),c=t(2465),l=t(7294),u=t(9008),d=t(9163),p=t(8222),f=t(1349),h=t(551),g=t(4901),m=t(4755),x=t(9669),j=t.n(x),v=t(1163),b=t(9971);function Z(){var e=(0,c.Z)(["\n  background-color: rgb(228, 35, 76);\n  border-color: rgb(228, 35, 76);\n  font-weight: 500;\n"]);return Z=function(){return e},e}var w=(0,d.ZP)(p.Z)(Z());n.default=function(){var e=(0,m.Z)(""),n=(0,i.Z)(e,2),t=n[0],a=n[1],c=(0,m.Z)(""),d=(0,i.Z)(c,2),p=d[0],x=d[1],Z=(0,m.Z)(""),y=(0,i.Z)(Z,2),O=y[0],k=y[1],C=(0,l.useState)(!1),P=C[0],S=(C[1],(0,l.useCallback)((0,s.Z)(o().mark((function e(){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={email:t,name:p,password:O},console.log(n),e.prev=2,e.next=5,j().post(b.Z.cats,n,{withCredentials:!0});case 5:r=e.sent,console.log(r.data),v.default.replace("/"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),e.t0.response?(console.log(e.t0.response),alert(e.t0.response.data.message)):alert(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[2,10]])}))),[t,O]));return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(u.default,{children:(0,r.jsx)("title",{children:"C.I.C"})}),(0,r.jsx)(g.Z,{isSignup:!0,children:(0,r.jsxs)(f.Z,{onFinish:S,children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"email",children:"Cat Email"}),(0,r.jsx)("br",{}),(0,r.jsx)(h.Z,{name:"email",type:"email",value:t,required:!0,onChange:a})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"name",children:"Cat Name"}),(0,r.jsx)("br",{}),(0,r.jsx)(h.Z,{name:"name",value:p,required:!0,onChange:x})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"password",children:"Password"}),(0,r.jsx)("br",{}),(0,r.jsx)(h.Z,{name:"password",type:"password",value:O,required:!0,onChange:k})]}),(0,r.jsx)("div",{style:{marginTop:10},children:(0,r.jsx)(w,{type:"primary",htmlType:"submit",loading:P,children:"Sign up"})})]})})]})}},9971:function(e,n,t){"use strict";var r=t(4155).env.NEXT_PUBLIC_API_HOST||"http://localhost:8000";n.Z={cats:"".concat(r,"/cats")}},6415:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/signup",function(){return t(3916)}])}},function(e){e.O(0,[503,774,888,179],(function(){return n=6415,e(e.s=n);var n}));var n=e.O();_N_E=n}]);