(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{4901:function(n,e,t){"use strict";t.d(e,{Z:function(){return an}});var r=t(5893),a=t(6156),o=t(7757),i=t.n(o),c=t(2137),s=t(2465),u=t(7294),l=t(5675),d=t(1163),f=t(5596),p=t(2684),h=t(8222),g=t(1069),m=t(9163),x=t(7457),v=t(8481),j=t(1664),Z=t(1349),b=t(551),w=t(4755),y=t(9669),O=t.n(y),k=t(9971);function P(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,r)}return t}function C(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?P(Object(t),!0).forEach((function(e){(0,a.Z)(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):P(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}function S(){var n=(0,s.Z)(["\n  background-color: rgb(228, 35, 76);\n  border-color: rgb(228, 35, 76);\n  font-weight: 500;\n"]);return S=function(){return n},n}function E(){var n=(0,s.Z)(["\n  margin-top: 0.8rem;\n"]);return E=function(){return n},n}function _(){var n=(0,s.Z)(["\n  padding: 1rem;\n"]);return _=function(){return n},n}var D=(0,m.ZP)(Z.Z)(_()),z=m.ZP.div(E()),F=(0,m.ZP)(h.Z)(S()),N=function(){var n=(0,w.Z)(""),e=(0,v.Z)(n,2),t=e[0],a=e[1],o=(0,w.Z)(""),s=(0,v.Z)(o,2),l=s[0],d=s[1],f=(0,u.useState)(""),p=f[0],g=(f[1],(0,u.useState)(!1)),m=g[0],Z=(g[1],(0,x.a)()),y=(Z.me,Z.login),P=(Z.logout,(0,u.useCallback)((0,c.Z)(i().mark((function n(){var e,r;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,O().post("".concat(k.Z.cats,"/login"),{email:t,password:l},{withCredentials:!0});case 3:return e=n.sent,console.log(e.data),n.next=7,O().get("".concat(k.Z.cats),{withCredentials:!0,headers:{Authorization:"Bearer "+e.data.data.token}});case 7:r=n.sent,y(C(C({},r.data.data),{},{token:e.data.data.token})),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),n.t0.response?(console.log(n.t0.response),alert(n.t0.response.data.message)):alert(n.t0.message);case 14:case"end":return n.stop()}}),n,null,[[0,11]])}))),[t,l]));return(0,r.jsxs)(D,{onFinish:P,children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"email",children:"Cat Email"}),(0,r.jsx)("br",{}),(0,r.jsx)(b.Z,{name:"email",value:t,onChange:a,required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"password",children:"Cat Password"}),(0,r.jsx)("br",{}),(0,r.jsx)(b.Z,{name:"password",type:"password",value:l,onChange:d,required:!0})]}),(0,r.jsxs)(z,{children:[(0,r.jsx)(F,{type:"primary",htmlType:"submit",loading:m,children:"Login"}),(0,r.jsx)(j.default,{href:"/signup",children:(0,r.jsx)("a",{children:(0,r.jsx)(h.Z,{children:"Sign up"})})})]}),(0,r.jsx)("div",{children:(0,r.jsx)("span",{children:p})})]})};function A(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,r)}return t}function B(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?A(Object(t),!0).forEach((function(e){(0,a.Z)(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):A(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}function I(){var n=(0,s.Z)(["\n  margin-top: 10px;\n"]);return I=function(){return n},n}function T(){var n=(0,s.Z)(["\n  background-color: rgb(228, 35, 76);\n  border-color: rgb(228, 35, 76);\n  color: rgb(0, 22, 40);\n  font-weight: 500;\n  @media only screen and (max-width: 390px) {\n    position: relative;\n    left: auto;\n    bottom: auto;\n    margin-top: 150px;\n  }\n  position: absolute;\n  left: 30%;\n  bottom: 30px;\n"]);return T=function(){return n},n}function L(){var n=(0,s.Z)(["\n  text-align: center;\n  @media only screen and (max-width: 768px) {\n    font-size: 0.7rem;\n  }\n  @media only screen and (max-width: 390px) {\n    display: none;\n  }\n"]);return L=function(){return n},n}function U(){var n=(0,s.Z)(["\n  color: white;\n  font-size: 1.3rem;\n  font-weight: 700;\n"]);return U=function(){return n},n}function M(){var n=(0,s.Z)(["\n  width: inherit;\n"]);return M=function(){return n},n}function X(){var n=(0,s.Z)(["\n  text-align: center;\n"]);return X=function(){return n},n}function q(){var n=(0,s.Z)(["\n  padding: 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: white;\n  font-size: 2.5rem;\n  @media only screen and (max-width: 768px) {\n    font-size: 2rem;\n  }\n  @media only screen and (max-width: 390px) {\n    font-size: 1.2rem;\n  }\n"]);return q=function(){return n},n}function H(){var n=(0,s.Z)(["\n  min-height: 100vh;\n"]);return H=function(){return n},n}var R=f.Z.Header,W=f.Z.Content,Y=f.Z.Footer,G=f.Z.Sider,J=p.Z.Meta,K=(0,m.ZP)(f.Z)(H()),Q=(0,m.ZP)(R)(q()),V=(0,m.ZP)(G)(X()),$=(0,m.ZP)(p.Z)(M()),nn=m.ZP.div(U()),en=(0,m.ZP)(Y)(L()),tn=(0,m.ZP)(h.Z)(T()),rn=m.ZP.div(I()),an=function(n){var e=n.children,t=n.isSignup,a=void 0!==t&&t,o=(0,u.useState)(!0),s=o[0],p=o[1],m=(0,u.useState)(!1),v=m[0],j=m[1],Z=(0,x.a)(),b=Z.me,w=Z.login,y=Z.logout,P=(0,u.useState)(!0),C=P[0],S=P[1],E=(0,u.useState)(!1),_=E[0],D=E[1],z=(0,u.useRef)(),F=(0,u.useCallback)((0,c.Z)(i().mark((function n(){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:y();case 1:case"end":return n.stop()}}),n)}))),[]);(0,u.useEffect)((function(){b&&a&&d.default.replace("/")}),[]),(0,u.useEffect)((function(){S(!0)}),[_]);var A=(0,u.useCallback)((function(n,e){p(n)}),[s]),I=(0,u.useCallback)((function(n){j(n)}),[v]),T=(0,u.useCallback)(function(){var n=(0,c.Z)(i().mark((function n(e){var t,r,a;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.target.files,r=new FormData,Array.from(t).forEach((function(n){r.append("image",n)})),console.log(r.getAll("image")),n.prev=4,S(!1),n.next=8,O().post("".concat(k.Z.cats,"/upload"),r,{withCredentials:!0,headers:{Authorization:"Bearer "+b.token}});case 8:a=n.sent,console.log(a),w(B(B({},a.data.data),{},{token:b.token})),D((function(n){return!n})),n.next=17;break;case 14:n.prev=14,n.t0=n.catch(4),n.t0.response?(console.log(n.t0.response),alert(n.t0.response.data.message)):alert(n.t0.message);case 17:case"end":return n.stop()}}),n,null,[[4,14]])})));return function(e){return n.apply(this,arguments)}}(),[b,C,_]),L=(0,u.useCallback)((function(){void 0!==z.current&&z.current.click()}),[z.current]);return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(K,{children:[b&&(0,r.jsxs)(V,{breakpoint:"lg",collapsedWidth:"0",onBreakpoint:I,onCollapse:A,children:[(0,r.jsx)($,{hoverable:!0,cover:(0,r.jsx)(g.Z,{alt:"cat",src:b.imgUrl}),children:(0,r.jsx)(J,{title:b.email,description:b.name})}),(0,r.jsxs)(rn,{children:[(0,r.jsx)("input",{type:"file",name:"image",multiple:!0,hidden:!0,ref:z,onChange:T}),!C&&(0,r.jsx)(nn,{children:"\uc774\ubbf8\uc9c0 \ubcc0\uacbd\uc911..."}),(0,r.jsx)(h.Z,{onClick:L,children:"Image Update"})]}),(0,r.jsx)(tn,{type:"primary",size:"large",onClick:F,children:"Logout"})]}),(0,r.jsxs)(f.Z,{children:[(0,r.jsxs)(Q,{style:{display:s||!b?"flex":!s&&v?"none":"flex"},children:[(0,r.jsx)(l.default,{width:43,height:"auto",src:"/nestjs.svg"}),(0,r.jsx)("span",{style:{marginLeft:10},children:"Cat Information Community"})]}),(0,r.jsx)(W,{style:{margin:"45px 16px 0"},children:b||a?(0,r.jsx)(r.Fragment,{children:e}):(0,r.jsx)(N,{})}),(0,r.jsx)(en,{children:"C.I.C \xa92021 Created by Yoon Sang Seok"})]})]})})}},4755:function(n,e,t){"use strict";var r=t(7294);e.Z=function(n){var e=(0,r.useState)(n),t=e[0],a=e[1];return[t,(0,r.useCallback)((function(n){var e=n.target.value;a(e)}),[]),a]}},9269:function(n,e,t){"use strict";t.r(e),t.d(e,{default:function(){return b}});var r=t(5893),a=t(7757),o=t.n(a),i=t(2137),c=t(2465),s=t(4901),u=t(2684),l=t(1230),d=t(9163),f=t(5746),p=u.Z.Meta;var h=function(n){var e=n.cat;return console.log(e),(0,r.jsx)(f.Z,{xs:24,sm:12,md:8,children:(0,r.jsx)(u.Z,{hoverable:!0,style:{width:300,marginBottom:50},cover:(0,r.jsx)("img",{alt:"cat",src:e.imgUrl}),children:(0,r.jsx)(p,{title:e.email,description:e.name})})})},g=t(7294),m=t(9669),x=t.n(m),v=t(9971);function j(){var n=(0,c.Z)([""]);return j=function(){return n},n}u.Z.Meta;var Z=d.ZP.div(j());var b=function(){var n=(0,g.useState)([]),e=n[0],t=n[1],a=function(){var n=(0,i.Z)(o().mark((function n(){var e;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,x().get("".concat(v.Z.cats,"/all"),{withCredentials:!0});case 2:e=n.sent,console.log(e.data.data),t(e.data.data);case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return(0,g.useEffect)((function(){a()}),[]),(0,r.jsx)(s.Z,{children:(0,r.jsx)(Z,{children:(0,r.jsx)(l.Z,{gutter:10,children:e.map((function(n){return(0,r.jsx)(h,{cat:n},n.id)}))})})})}},9971:function(n,e,t){"use strict";var r=t(4155).env.NEXT_PUBLIC_API_HOST||"http://localhost:8000";e.Z={cats:"".concat(r,"/cats")}},5301:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(9269)}])}},function(n){n.O(0,[503,774,888,179],(function(){return e=5301,n(n.s=e);var e}));var e=n.O();_N_E=e}]);